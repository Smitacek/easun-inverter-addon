name: "EASUN Inverter"
version: "0.2.1"
slug: "easun-inverter"
description: "Read EASUN/Voltronic inverter via RS232/USB and publish to MQTT with Home Assistant discovery"
arch:
  - armhf
  - aarch64
  - amd64
init: false
startup: application
boot: manual
stage: stable
homeassistant: "2023.1.0"
url: "https://github.com/Smitacek/easun-inverter-addon"
apparmor: true
options:
  # Multi-inverter mode
  multi_inverter_mode: false
  inverters: []
  # Example:
  # inverters:
  #   - port: "/dev/ttyUSB0"
  #     baudrate: 2400
  #     name: "INV_L1"
  #     enabled: true
  #     phase: "L1"   # optional: L1|L2|L3 (for 3-phase grouping)
  #   - port: "/dev/ttyUSB1"
  #     baudrate: 2400
  #     name: "INV_L2"
  #     phase: "L2"
  #   - port: "/dev/ttyUSB2"
  #     baudrate: 2400
  #     name: "INV_L3"
  #     phase: "L3"
  group_3phase: false
  legacy_base_topics: true
  port: "/dev/ttyUSB0"
  baudrate: 2400
  timeout: 3
  prefer_by_id: true

  mqtt_host: "core-mosquitto"
  mqtt_port: 1883
  mqtt_username: ""
  mqtt_password: ""
  read_interval: 30
  log_level: warning

schema:
  multi_inverter_mode: bool?
  inverters:
    - port: str
      baudrate: int(110,256000)?
      name: str?
      enabled: bool?
      phase: list(L1|L2|L3)?
      timeout: int(1,30)?
  group_3phase: bool?
  legacy_base_topics: bool?
  port: str
  baudrate: int(110,256000)
  timeout: int(1,30)
  prefer_by_id: bool?
  mqtt_host: str
  mqtt_port: port
  mqtt_username: str?
  mqtt_password: password?
  read_interval: int(5,300)
  log_level: list(debug|info|warning|error|critical)?

uart: true
